# ç»™å®šä¸¤ä¸ªå¤§å°ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚ 
# 
#  è¯·ä½ æ‰¾å‡ºè¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°ï¼Œå¹¶ä¸”è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log(m + n))ã€‚ 
# 
#  ä½ å¯ä»¥å‡è®¾ nums1 å’Œ nums2 ä¸ä¼šåŒæ—¶ä¸ºç©ºã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1: 
# 
#  nums1 = [1, 3]
# nums2 = [2]
# 
# åˆ™ä¸­ä½æ•°æ˜¯ 2.0
#  
# 
#  ç¤ºä¾‹ 2: 
# 
#  nums1 = [1, 2]
# nums2 = [3, 4]
# 
# åˆ™ä¸­ä½æ•°æ˜¯ (2 + 3)/2 = 2.5
#  
#  Related Topics æ•°ç»„ äºŒåˆ†æŸ¥æ‰¾ åˆ†æ²»ç®—æ³• 
#  ğŸ‘ 3232 ğŸ‘ 0


class Solution:
    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -> float:
        # æ–¹å¼1ï¼šè‹¥æ²¡é™åˆ¶åœ¨o(log(m+n)),ä½¿ç”¨o(m+n),åˆ™å¯ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„ï¼Œæ¯”è¾ƒæŒ‡é’ˆä¸‹çš„å…ƒç´ å¤§å°ï¼Œä¸€å…±ç§»åŠ¨(m+n+1)/2æ¬¡
        # æ–¹å¼2ï¼šå˜ç›¸æ¢æˆæ‰¾kå°çš„å…ƒç´ ï¼Œkä¸ºåˆå¹¶åæ•°ç»„çš„ä¸­ä½æ•°ç´¢å¼•
        # å–ä¸¤ä¸ªæ•°ç»„çš„ç¬¬k/2ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ•°ç»„1çš„å…ƒç´ å°äºæ•°ç»„2çš„å…ƒç´ ï¼Œåˆ™è¯´æ˜æ•°ç»„1ä¸­çš„å‰k/2ä¸ªå…ƒç´ ä¸å¯èƒ½æˆä¸ºç¬¬kä¸ªå…ƒç´ çš„å€™é€‰ï¼Œ
        # æ‰€ä»¥å°†æ•°ç»„1ä¸­çš„å‰k/2ä¸ªå…ƒç´ å»æ‰ï¼Œç»„æˆæ–°æ•°ç»„å’Œæ•°ç»„2æ±‚ç¬¬k- k/2å°çš„å…ƒç´ ï¼Œ
        # å› ä¸ºæˆ‘ä»¬æŠŠå‰k/2ä¸ªå…ƒç´ å»æ‰äº†ï¼Œæ‰€ä»¥ç›¸åº”çš„kå€¼ä¹Ÿåº”è¯¥å‡å°ã€‚
        def findKth(nums1,nums2,k):
            size1, size2 = len(nums1), len(nums2)
            if size1 > size2:
                return findKth(nums2,nums1,k)
            if not nums1:
                return nums2[k-1]
            if k == 1:
                return min(nums1[0], nums2[0])
            i, j = min(k//2, size1) - 1, min(k//2, size2) - 1
            if nums1[i] > nums2[j]:
                return findKth(nums1, nums2[j+1:],k-j-1)
            else:
                return findKth(nums1[i+1:],nums2,k-i-1)
        l1, l2 = len(nums1), len(nums2)
        left, right = (l1+l2+1)//2, (l1+l2+2)//2
        former = findKth(nums1, nums2,left)
        latter = findKth(nums1,nums2,right)
        return (former+latter) / 2
